(this.webpackJsonpladybug=this.webpackJsonpladybug||[]).push([[0],{156:function(e,t,a){e.exports=a.p+"static/media/logoweb.3d7404c3.png"},157:function(e,t,a){e.exports=a.p+"static/media/name_white.01b3dd8d.png"},158:function(e,t,a){e.exports=a.p+"static/media/verifymail.fcc89a56.png"},189:function(e,t,a){e.exports=a(337)},336:function(e,t,a){},337:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),s=a.n(c),l=a(9),o=a(22),i=a(5),u=a(41),m=a(154),d=a(155),p=a(83),E="POST_ERROR",f=[],v=a(1),b={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},h={modules:[],followedModules:[],recommendedModules:[],modulesInUniversity:[],module:null,loading:!0,error:{}},g={universities:[],university:null,loading:!0,error:{}},N={posts:[],postsByUser:[],recommendedPosts:[],post:null,loading:!0,error:{}},y={profile:null,profiles:[],loading:!0,error:{}},O=Object(u.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(p.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":case"VERIFY_SUCCESS":return localStorage.setItem("token",n.token),Object(v.a)(Object(v.a)(Object(v.a)({},e),n),{},{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"VERIFY_FAIL":return localStorage.removeItem("token"),Object(v.a)(Object(v.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}},module:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_MODULES":return Object(v.a)(Object(v.a)({},e),{},{modules:n,loading:!1});case"GET_MODULES_RECOMMENDATIONS":return Object(v.a)(Object(v.a)({},e),{},{recommendedModules:n,loading:!1});case"GET_MODULES_IN_UNIVERSITY":return Object(v.a)(Object(v.a)({},e),{},{modulesInUniversity:n,loading:!1});case"GET_MODULE":return Object(v.a)(Object(v.a)({},e),{},{module:n,loading:!1});case"MODULES_ERROR":case"MODULE_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:n,loading:!1});case"UPDATE_FOLLOWERS":return Object(v.a)(Object(v.a)({},e),{},{modules:e.modules.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{followers:n.followers}):e})),followedModules:e.followedModules.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{followers:n.followers}):e})),recommendedModules:e.recommendedModules.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{followers:n.followers}):e})),modulesInUniversity:e.modulesInUniversity.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{followers:n.followers}):e})),module:e.module&&e.module._id===n.id?Object(v.a)(Object(v.a)({},e.module),{},{followers:n.followers}):null,loading:!1});case"GET_FOLLOWEDMODULES":return Object(v.a)(Object(v.a)({},e),{},{followedModules:n,loading:!1});default:return e}},university:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_UNIVERSITIES":return Object(v.a)(Object(v.a)({},e),{},{universities:n,loading:!1});case"GET_UNIVERSITY":return Object(v.a)(Object(v.a)({},e),{},{university:n,loading:!1});case"UNIVERSITIES_ERROR":case"UNIVERSITY_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:n,loading:!1});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_POSTS_RECOMMENDATIONS":return Object(v.a)(Object(v.a)({},e),{},{recommendedPosts:n,loading:!1});case"GET_POSTS_FROM_MODULE":return Object(v.a)(Object(v.a)({},e),{},{posts:n,loading:!1});case"GET_POSTS_BY_USER,":return Object(v.a)(Object(v.a)({},e),{},{postsByUser:n,loading:!1});case"GET_POST":return Object(v.a)(Object(v.a)({},e),{},{post:n,loading:!1});case"DELETE_POST":return Object(v.a)(Object(v.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==n})),loading:!1,postsByUser:e.postsByUser.filter((function(e){return e._id!==n})),recommendedPosts:e.recommendedPosts.filter((function(e){return e._id!==n}))});case"ADD_POST":return Object(v.a)(Object(v.a)({},e),{},{posts:[n].concat(Object(p.a)(e.posts)),loading:!1});case"UPDATE_POST":return Object(v.a)(Object(v.a)({},e),{},{posts:e.posts.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{text:n.post.text,title:n.post.title}):e})),postsByUser:e.postsByUser.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{text:n.post.text,title:n.post.title}):e})),recommendedPosts:e.recommendedPosts.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{text:n.post.text,title:n.post.title}):e})),post:e.post&&e.post._id===n.id?Object(v.a)(Object(v.a)({},e.post),{},{text:n.post.text,title:n.post.title}):null,loading:!1});case E:return Object(v.a)(Object(v.a)({},e),{},{error:n,loading:!1});case"UPDATE_VOTES":return Object(v.a)(Object(v.a)({},e),{},{posts:e.posts.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{upvote:n.upvote,downvote:n.downvote}):e})),postsByUser:e.postsByUser.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{upvote:n.upvote,downvote:n.downvote}):e})),recommendedPosts:e.recommendedPosts.map((function(e){return e._id===n.id?Object(v.a)(Object(v.a)({},e),{},{upvote:n.upvote,downvote:n.downvote}):e})),post:e.post&&e.post._id===n.id?Object(v.a)(Object(v.a)({},e.post),{},{upvote:n.upvote,downvote:n.downvote}):null,loading:!1});case"ADD_COMMENT":return Object(v.a)(Object(v.a)({},e),{},{post:Object(v.a)(Object(v.a)({},e.post),{},{comments:n}),loading:!1});case"REMOVE_COMMENT":return Object(v.a)(Object(v.a)({},e),{},{post:Object(v.a)(Object(v.a)({},e.post),{},{comments:e.post.comments.filter((function(e){return e._id!==n}))}),loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":case"UPDATE_PROFILE":return Object(v.a)(Object(v.a)({},e),{},{profile:n,loading:!1});case"PROFILE_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:n,loading:!1,profile:null});case"CLEAR_PROFILE":return Object(v.a)(Object(v.a)({},e),{},{profile:null,loading:!1});default:return e}}}),w=[d.a],j=Object(u.createStore)(O,{},Object(m.composeWithDevTools)(u.applyMiddleware.apply(void 0,w))),x=a(4),k=a.n(x),S=a(7),C=a(10),_=a.n(C),R=a(345),D=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=Object(R.a)();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),a)}},T=function(e){e?_.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete _.a.defaults.headers.common.Authorization},P=function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&T(localStorage.token),e.prev=1,e.next=4,_.a.get("/users");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},M=a(54),U=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=(a.isAuthenticated,a.loading),c=a.user,s=Object(M.a)(e,["component","auth"]);return r.a.createElement(o.b,Object.assign({},s,{render:function(e){return n||c&&(!c||c.verified)?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))})),A=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=(a.isAuthenticated,a.loading),c=a.user,s=Object(M.a)(e,["component","auth"]);return r.a.createElement(o.b,Object.assign({},s,{render:function(e){return n||c&&(!c||c.verified)?c&&"user"==c.role?r.a.createElement(o.a,{to:"/home"}):r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))})),L=a(156),I=a.n(L),F=Object(i.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:"LOGOUT"})}}})((function(e){var t=e.auth,a=t.isAuthenticated,c=t.loading,s=t.user,o=e.logout,i=r.a.createElement("div",{className:"right menu "},r.a.createElement(l.b,{to:"/register",onClick:o,className:"item"},"Register"),r.a.createElement(l.b,{to:"/login",onClick:o,className:"item"},"Login"));return r.a.createElement("nav",{className:"ui inverted fixed big menu navbar"},r.a.createElement("div",{className:"ui container"},r.a.createElement(l.b,{to:"/",className:"item"},r.a.createElement("img",{className:"ui middle aligned tiny image",src:I.a})),!c&&r.a.createElement(n.Fragment,null," ",a&&s&&s.verified?r.a.createElement("div",{className:"right menu "},r.a.createElement(l.b,{to:"/home",className:"item"},"Home"),r.a.createElement(l.b,{to:"/explore",className:"item"},"Explore"),"admin"==s.role&&r.a.createElement(l.b,{to:"/requests",className:"item"},"Requests"),r.a.createElement("div",{className:"ui simple dropdown vertically fitted item"},r.a.createElement("img",{className:"ui avatar image xsmall-image",src:"".concat(s.avatar),alt:""}),r.a.createElement("div",{className:"ui small vertical menu"},r.a.createElement(l.b,{to:"/#!",className:"item"},r.a.createElement("i",{className:"heart icon"}),"Saved posts"),r.a.createElement(l.b,{to:"/#!",className:"item"},r.a.createElement("i",{className:"bell icon"}),"Notifications"),r.a.createElement(l.b,{to:"/profile/me",className:"item"},r.a.createElement("i",{className:"user icon"}),"Profile"),r.a.createElement(l.b,{to:"/login",onClick:o,className:"item"},r.a.createElement("i",{className:"sign-out icon"}),"Logout")))):i," ")))})),Y=a(157),q=a.n(Y),G=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){return e.isAuthenticated?r.a.createElement(o.a,{to:"/home"}):r.a.createElement("section",{className:"landing"},r.a.createElement("div",{className:"dark-overlay"},r.a.createElement("div",{className:"landing-inner"},r.a.createElement("h1",{className:"ui x-large"},r.a.createElement("img",{className:"large-image",src:q.a,alt:"ladybug"})),r.a.createElement("p",{className:"ui center aligned lead"},"Ask questions, discuss, and get help from other students worldwide."),r.a.createElement("div",{className:"ui row"},r.a.createElement(l.b,{to:"/register",className:"ui big negative button"},r.a.createElement("i",{className:"signup icon"}),"Register"),r.a.createElement(l.b,{to:"/login",className:"ui big button"},r.a.createElement("i",{className:"sign-in icon"}),"Login")))))})),B=a(158),V=a.n(B),W=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"center-page"},r.a.createElement("div",{className:"ui center-text white-text"},r.a.createElement("img",{src:V.a,className:"ui large image centered"}),!t.loading&&t.isAuthenticated&&t.user&&r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"Thank you! An email has been sent to ","".concat(t.user.email)),r.a.createElement("h5",null,"Please check your inbox to verify your email address"))))))})),H=Object(i.b)((function(e){return{auth:e.auth}}),{verifyUser:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(e),t.prev=1,t.next=4,_.a.get("/users/verify/".concat(e));case 4:n=t.sent,a({type:"VERIFY_SUCCESS",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.response.data),a({type:"VERIFY_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},loadUser:P})((function(e){var t=e.auth,a=e.verifyUser,c=e.loadUser,s=e.match;return Object(n.useEffect)((function(){a(s.params.token)}),[]),Object(n.useEffect)((function(){c()}),[]),!t.loading&&t.user&&t.user.verified?r.a.createElement(o.a,{to:"/home"}):!t.loading&&t.user&&!t.user.verified&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-body"},r.a.createElement("h1",null,"404 Bad Request")))})),J=a(15),z=a(6),Z=Object(i.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return r.a.createElement("div",{key:e.id,className:"ui ".concat(e.alertType," message")},e.msg)}))})),K=Object(i.b)((function(e){return{auth:e.auth}}),{forgotPassword:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n,r,c,s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e}),t.next=5,_.a.post("/users/forgot",r,n);case 5:c=t.sent,a(D("".concat(c.data),"success")),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),s=t.t0.response.data.errors,console.log(t.t0.response.data),s&&a(D(s.msg,"error"));case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.auth,a=e.forgotPassword,c=Object(n.useState)({email:""}),s=Object(z.a)(c,2),i=s[0],u=s[1],m=i.email,d=function(){var e=Object(S.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a(m);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!t.loading&&t.isAuthenticated&&t.user&&t.user.verified?r.a.createElement(o.a,{to:"/home"}):!t.loading&&t.isAuthenticated&&t.user&&!t.user.verified?r.a.createElement(o.a,{to:"/verification"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"ui container-body"},r.a.createElement(Z,null),r.a.createElement("div",{className:"form-center"},r.a.createElement("h1",{className:"large white-text center-text"},"Forgot Password?"),r.a.createElement("form",{className:"ui form",onSubmit:d},r.a.createElement("div",{className:"ui raised segment"},r.a.createElement("h3",{className:"ui dividing header"}," ","Don't worry! Enter your email address and we will send you a password reset link"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Email"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"envelope icon"}),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email address",value:m,onChange:function(e){return function(e){return u(Object(v.a)(Object(v.a)({},i),{},Object(J.a)({},e.target.name,e.target.value)))}(e)}}))),r.a.createElement("button",{type:"submit",className:"ui vertical animated fluid large submit button red-button"},r.a.createElement("div",{className:"visible content"},"Send Reset Link"),r.a.createElement("div",{className:"hidden content"},r.a.createElement("i",{className:"sign-in icon"})))),r.a.createElement("div",{className:"ui bottom attached message"},r.a.createElement(l.b,{to:"/login"},"Back to Login")))))))})),Q=Object(i.b)((function(e){return{auth:e.auth}}),{setAlert:D,resetPassword:function(e,t,a){return function(){var n=Object(S.a)(k.a.mark((function n(r){var c,s,l;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c={headers:{"Content-Type":"application/json"}},console.log(e),n.next=5,_.a.put("/users/reset-password/".concat(t),e,c);case 5:s=n.sent,console.log(s.data),a.push("/password-updated"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),(l=n.t0.response.data.errors)&&r(D(l.msg,"error"));case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.auth,a=e.setAlert,c=e.resetPassword,s=e.history,l=e.match,i=Object(n.useState)({password:"",password2:""}),u=Object(z.a)(i,2),m=u[0],d=u[1],p=m.password,E=m.password2,f=function(e){return d(Object(v.a)(Object(v.a)({},m),{},Object(J.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(S.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),p!==E?a("Passwords do not match","error"):c({user:{newPassword:p}},l.params.token,s);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!t.loading&&t.isAuthenticated&&t.user&&t.user.verified?r.a.createElement(o.a,{to:"/home"}):!t.loading&&t.isAuthenticated&&t.user&&!t.user.verified?r.a.createElement(o.a,{to:"/verification"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"ui container-body"},r.a.createElement(Z,null),r.a.createElement("div",{className:"form-center"},r.a.createElement("h1",{className:"large white-text center-text"},"Reset Password"),r.a.createElement("form",{className:"ui form",onSubmit:b},r.a.createElement("div",{className:"ui raised segment"},r.a.createElement("h3",{className:"ui dividing header"}," Reset your password"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"New Password"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"New password",value:p,onChange:function(e){return f(e)},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Confirm New Password"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password2",placeholder:"Confirm new password",value:E,onChange:function(e){return f(e)},required:!0}))),r.a.createElement("button",{type:"submit",className:"ui vertical animated fluid large submit button red-button"},r.a.createElement("div",{className:"visible content"},"Reset Password"),r.a.createElement("div",{className:"hidden content"},r.a.createElement("i",{className:"sign-in icon"})))))))))})),X=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"center-page",style:{textAlign:"center"}},r.a.createElement("i",{className:"ui icon lock massive",style:{color:"white"}}),r.a.createElement("h1",{className:"large white-text"},"Password Updated!"),r.a.createElement("div",{className:"ui center-text white-text"},r.a.createElement("div",{className:"ui  message"},r.a.createElement(l.b,{to:"/login"},"Back to Login"))))))},$=Object(i.b)((function(e){return{auth:e.auth}}),{login:function(e,t){return function(){var a=Object(S.a)(k.a.mark((function a(n){var r,c,s,l;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,_.a.post("/users/login",c,r);case 5:s=a.sent,n({type:"LOGIN_SUCCESS",payload:s.data}),n(P()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),(l=a.t0.response.data.errors)&&n(D(l.msg,"error")),n({type:"LOGIN_FAIL"});case 15:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.auth,c=Object(n.useState)({email:"",password:""}),s=Object(z.a)(c,2),i=s[0],u=s[1],m=i.email,d=i.password,p=function(e){return u(Object(v.a)(Object(v.a)({},i),{},Object(J.a)({},e.target.name,e.target.value)))},E=function(){var e=Object(S.a)(k.a.mark((function e(a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(m,d);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!a.loading&&a.isAuthenticated&&a.user&&a.user.verified?r.a.createElement(o.a,{to:"/home"}):!a.loading&&a.isAuthenticated&&a.user&&!a.user.verified?r.a.createElement(o.a,{to:"/verification"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"ui container-body"},r.a.createElement(Z,null),r.a.createElement("div",{className:"form-center"},r.a.createElement("h1",{className:"large white-text center-text"},"Welcome back!"),r.a.createElement("form",{className:"ui form",onSubmit:E},r.a.createElement("div",{className:"ui raised segment"},r.a.createElement("h3",{className:"ui dividing header"}," Login to Your Account"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Email"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"envelope icon"}),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email address",value:m,onChange:function(e){return p(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Password"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:d,onChange:function(e){return p(e)}}))),r.a.createElement("button",{type:"submit",className:"ui vertical animated fluid large submit button red-button"},r.a.createElement("div",{className:"visible content"},"Login"),r.a.createElement("div",{className:"hidden content"},r.a.createElement("i",{className:"sign-in icon"})))),r.a.createElement("div",{className:"ui bottom attached message"},"New to us? ",r.a.createElement(l.b,{to:"/register"},"Register"),r.a.createElement(l.b,{style:{float:"right"},to:"/forgot-password"},"Forgot Password?")))))))})),ee=Object(i.b)((function(e){return{auth:e.auth}}),{setAlert:D,register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(S.a)(k.a.mark((function e(r){var c,s,l,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,_.a.post("/users/register",s,c);case 5:l=e.sent,r({type:"REGISTER_SUCCESS",payload:l.data}),r(P()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(o=e.t0.response.data.errors)&&r(D(o.msg,"error")),r({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,a=e.register,c=e.auth,s=Object(n.useState)({name:"",email:"",password:"",password2:""}),i=Object(z.a)(s,2),u=i[0],m=i[1],d=u.name,p=u.email,E=u.password,f=u.password2,b=function(e){return m(Object(v.a)(Object(v.a)({},u),{},Object(J.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(S.a)(k.a.mark((function e(n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),E!==f?t("Passwords do not match","error"):a({name:d,email:p,password:E});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!c.loading&&c.isAuthenticated&&c.user&&!c.user.verified?r.a.createElement(o.a,{to:"/verification"}):!c.loading&&c.isAuthenticated&&c.user&&c.user.verified?r.a.createElement(o.a,{to:"/home"}):r.a.createElement("div",{className:"red-background"},r.a.createElement("div",{className:"ui container-body"},r.a.createElement(Z,null),r.a.createElement("div",{className:"form-center"},r.a.createElement("h1",{className:"large white-text center-text"},"Get Started!"),r.a.createElement("form",{className:"ui form",onSubmit:function(e){return h(e)}},r.a.createElement("div",{className:"ui raised segment"},r.a.createElement("h3",{className:"ui dividing header"}," Create an Account"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Name"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"user icon"}),r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:d,onChange:function(e){return b(e)},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Email"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"envelope icon"}),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email address",value:p,onChange:function(e){return b(e)},required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Password"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:E,onChange:function(e){return b(e)},required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}",title:"Password must contain at least one number and one uppercase and lowercase letter, and at least 6 or more characters"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Confirm Password"),r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password2",placeholder:"Confirm password",value:f,onChange:function(e){return b(e)},required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}",title:"Password must contain at least one number and one uppercase and lowercase letter, and at least 6 or more characters"}))),r.a.createElement("button",{type:"submit",name:"submit",className:"ui vertical animated fluid large submit button red-button"},r.a.createElement("div",{className:"visible content"},"Register"),r.a.createElement("div",{className:"hidden content"},r.a.createElement("i",{className:"signup icon"})))),r.a.createElement("div",{className:"ui message"},"Already have an account? ",r.a.createElement(l.b,{to:"/login"},"Log In"))))))})),te=a(33),ae=a.n(te),ne=function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/modules");case 3:a=e.sent,t({type:"GET_MODULES",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"MODULES_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},re=function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("/modules/".concat(e));case 3:n=t.sent,a({type:"GET_MODULE",payload:n.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),a({type:"MODULE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},ce=function(e,t){return function(){var a=Object(S.a)(k.a.mark((function a(n){var r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.a.put("/users/follow/".concat(e));case 3:r=a.sent,n({type:"UPDATE_FOLLOWERS",payload:{id:e,followers:r.data}}),n(D("Followed ".concat(t),"success")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"MODULE_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},se=function(e,t){return function(){var a=Object(S.a)(k.a.mark((function a(n){var r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.a.put("/users/unfollow/".concat(e));case 3:r=a.sent,n({type:"UPDATE_FOLLOWERS",payload:{id:e,followers:r.data}}),n(D("Unfollowed ".concat(t),"success")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"MODULE_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},le=function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n,r,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({uniId:e}),t.next=5,_.a.get("/users/modules/",r,n);case 5:c=t.sent,a({type:"GET_FOLLOWEDMODULES",payload:c.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"MODULE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},oe=Object(i.b)((function(e){return{module:e.module}}),{getModules:ne})((function(e){var t,a=e.followedModules,c=e.selectedModule,s=e.setSelectedModule,o=e.getModules,i=e.module,u=i.modules,m=i.loading,d=Object(n.useState)(c),p=Object(z.a)(d,2),E=p[0],f=p[1];return Object(n.useEffect)((function(){o(),f(a.length>0?a[0].modules[0]._id:null),s(a.length>0?a[0].modules[0]._id:null)}),[o,m,a.length]),Object(n.useEffect)((function(){f(c)}),[c]),t=ae.a.mapValues(ae.a.keyBy(u,"_id")),r.a.createElement(n.Fragment,null,!m&&t&&a&&u&&r.a.createElement(n.Fragment,null,r.a.createElement("h2",{className:"red-text"},"Your interest."),a.length>0?r.a.createElement("div",{className:"ui vertical fluid tabular menu"},null===E&&f(a[0].modules[0])&&s(a[0].modules[0]),a.map((function(e){return r.a.createElement("div",{key:e._id},e.modules.length>0&&r.a.createElement("div",{className:"item header"},"".concat(e.name)),e.modules.length>0&&e.modules.map((function(e){return r.a.createElement("a",{className:"".concat(E===e._id?"active":""," item"),key:e._id,onClick:function(){f(e._id),s(e._id)}},"".concat(e.name))})))}))):r.a.createElement("div",null,"You have not followed any modules",r.a.createElement("div",{className:"ui hidden divider"})),r.a.createElement(l.b,{to:"/explore",className:"ui button"},r.a.createElement("i",{className:"icon plus"}),"Add more modules")))})),ie=a(34),ue=a.n(ie),me=function(e){return r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active",style:{position:"fixed"}},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active",style:{position:"flexible"}},r.a.createElement("div",{className:"header"},e.title),r.a.createElement("div",{className:"scrolling content"},e.content),r.a.createElement("div",{className:"actions"},e.actions)))},de=function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,_.a.post("/posts/add",e,n);case 4:r=t.sent,a({type:"ADD_POST",payload:r.data}),a(D("Post Created","success")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},pe=Object(i.b)(null,{updatePost:function(e,t){return function(){var a=Object(S.a)(k.a.mark((function a(n){var r,c;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,_.a.post("/posts/edit/".concat(t),e,r);case 4:c=a.sent,n({type:"UPDATE_POST",payload:{post:c.data,id:t}}),n(D("Post Updated","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:E,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.updatePost,a=e.setShowing,c=e.post,s=Object(n.useState)({title:c.title,text:c.text}),l=Object(z.a)(s,2),o=l[0],i=l[1],u=o.title,m=o.text,d=function(){a(!1)},p=function(e){return i(Object(v.a)(Object(v.a)({},o),{},Object(J.a)({},e.target.name,e.target.value)))},E=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Update"),r.a.createElement("button",{onClick:d,className:"ui button"},"Cancel")),f=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),t({post:o},c._id),d()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Category"),r.a.createElement("div",{className:"ui input"},"".concat(c.uniAcronym)," - ","".concat(c.moduleName))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Summary"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"title",value:u,onChange:function(e){return p(e)},placeholder:"Write one sentence summary",required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Content"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{name:"text",value:m,onChange:function(e){return p(e)},placeholder:"Write details for the question",required:!0}))));return r.a.createElement(me,{onDismiss:d,title:"Update Post",content:f,actions:E})})),Ee=function(e){return r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active",style:{position:"fixed"}},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui small modal visible active",style:{position:"flexible"}},r.a.createElement("div",{className:"header"},e.title),r.a.createElement("div",{className:"scrolling content"},e.content),r.a.createElement("div",{className:"actions"},e.actions)))},fe=Object(i.b)((function(e){return{auth:e.auth}}),{deletePost:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.delete("/posts/delete/".concat(e));case 3:a({type:"DELETE_POST",payload:e}),a(D("Post Removed","success")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},upvotePost:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.put("/posts/upvote/".concat(e));case 3:n=t.sent,a({type:"UPDATE_VOTES",payload:{id:e,upvote:n.data.upvote,downvote:n.data.downvote}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response.data),a({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},downvotePost:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.put("/posts/downvote/".concat(e));case 3:n=t.sent,a({type:"UPDATE_VOTES",payload:{id:e,upvote:n.data.upvote,downvote:n.data.downvote}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.post,a=e.auth,c=e.deletePost,s=e.upvotePost,o=e.downvotePost,i=t._id,u=t.moduleName,m=t.authorName,d=t.author,p=t.date,E=t.title,f=t.text,v=t.upvote,b=t.downvote,h=t.comments,g=t.avatar,N=t.uniAcronym,y=Object(n.useState)(!1),O=Object(z.a)(y,2),w=O[0],j=O[1],x=Object(n.useState)(!1),k=Object(z.a)(x,2),S=k[0],C=k[1],_=function(){C(!1)},R=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return c(i)},className:"ui button red-button"},"Yes"),r.a.createElement("button",{onClick:_,className:"ui button"},"Cancel"));return r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{className:"ui top attached label red-label"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"ui four wide column"},r.a.createElement(l.b,{to:"/".concat(N,"/").concat(u),style:{color:"inherit"}},"".concat(u))),r.a.createElement("div",{className:"ui right floated twelve wide column right-text"},"Posted on ",r.a.createElement(ue.a,{format:"DD/MM/YYYY"},p)))),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"ui three wide column"},r.a.createElement("img",{className:"ui tiny circular centered image",src:g,alt:""}),a.loading||a.user._id!==d?r.a.createElement(l.b,{to:"/profile/".concat(d),className:"center-text padding-text"},r.a.createElement("h4",null,"".concat(m))):r.a.createElement(l.b,{to:"/profile/me",className:"center-text padding-text"},r.a.createElement("h4",null,"".concat(m)))),r.a.createElement("div",{className:"ui thirteen wide column"},r.a.createElement("h3",null,"".concat(E)),r.a.createElement("p",null,"".concat(f)),!a.loading&&a.user&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui labeled small button",tabIndex:"0"},r.a.createElement("button",{onClick:function(){return s(i)},className:"ui icon small button ".concat(-1===v.indexOf(a.user._id)?"":"red-button")},r.a.createElement("i",{className:"thumbs up icon"})),r.a.createElement("div",{className:"ui basic label"},"".concat(v.length))),r.a.createElement("div",{className:"ui labeled small button",tabIndex:"0"},r.a.createElement("button",{onClick:function(){return o(i)},className:"ui icon small button ".concat(-1===b.indexOf(a.user._id)?"":"red-button")},r.a.createElement("i",{className:"thumbs down icon"})),r.a.createElement("div",{className:"ui basic label"},"".concat(b.length)))),r.a.createElement("div",{className:"ui labeled small button",tabIndex:"0"},r.a.createElement(l.b,{to:"/".concat(N,"/").concat(u,"/").concat(i),target:"_blank",rel:"noopener noreferrer",className:"ui icon small button"},r.a.createElement("i",{className:"comment icon"})," Discussion"),r.a.createElement("div",{className:"ui basic label"},"".concat(h.length))),!a.loading&&d===a.user._id&&r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return j(!0)},className:"ui right floated icon small button"},r.a.createElement("i",{className:"ui icon pencil"})),r.a.createElement("button",{onClick:function(){return C(!0)},className:"ui right floated icon small button"},r.a.createElement("i",{className:"ui icon trash"}))))),w&&r.a.createElement(pe,{setShowing:j,post:t}),S&&r.a.createElement(Ee,{onDismiss:_,title:"Delete Post",content:"Are you sure you want to delete this post?",actions:R}))})),ve=Object(i.b)((function(e){return{auth:e.auth}}),{followModule:ce,unfollowModule:se})((function(e){var t=e.module,a=t._id,c=t.name,s=t.title,o=t.description,i=t.followers,u=t.uniAcronym,m=e.auth.user,d=e.followModule,p=e.unfollowModule,E=Object(n.useState)(i&&-1!==i.indexOf(m._id)?"minus":"plus"),f=Object(z.a)(E,2),v=f[0],b=f[1];return r.a.createElement("div",{className:"ui card"},r.a.createElement("div",{className:"ui slide masked reveal image"},r.a.createElement("div",{className:"visible content module-picture"},r.a.createElement("i",{className:"code huge icon center-position"})),r.a.createElement("div",{className:"hidden content"},r.a.createElement("p",{className:"module-padding"},"".concat(o)))),r.a.createElement("div",{className:"content"},r.a.createElement(l.b,{to:"/".concat(u,"/").concat(c),className:"header"},"".concat(c)),r.a.createElement("div",{className:"meta"},r.a.createElement("span",{className:"date"},"".concat(s)))),r.a.createElement("div",{className:"extra content"},r.a.createElement("i",{className:"users icon"}),"".concat(i.length)," Followers",r.a.createElement("button",{className:"invisible-button right floated"},r.a.createElement("i",{onClick:function(){"plus"===v?(b("minus"),d(a,c)):(b("plus"),p(a,c))},className:"".concat(v," red-text square outline icon")}))))})),be=Object(i.b)((function(e){return{post:e.post,module:e.module}}),{getPostsRecommendations:function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/posts/recommendations");case 3:a=e.sent,t({type:"GET_POSTS_RECOMMENDATIONS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:E,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getModulesRecommendations:function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/modules/recommendations");case 3:a=e.sent,t({type:"GET_MODULES_RECOMMENDATIONS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"MODULES_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getModulesRecommendations,a=e.getPostsRecommendations,c=e.post,s=c.recommendedPosts,l=c.loading,o=e.module.recommendedModules;return Object(n.useEffect)((function(){a(),t()}),[t,a]),r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"Recommended Posts"),!l&&s&&o&&s.length>0&&s.map((function(e,t){return e&&r.a.createElement(n.Fragment,{key:e._id},r.a.createElement(fe,{post:e}),0===t&&o.length>0&&r.a.createElement("div",{className:"ui segment"},r.a.createElement("p",null,"Discover New Modules"),r.a.createElement("div",{className:"ui three doubling cards"},o.map((function(e){return r.a.createElement(ve,{module:e,key:e._id})})))))})))})),he=function(e){var t=e.setShowing,a=e.name;return r.a.createElement("div",{className:"ui segment"},r.a.createElement("button",{onClick:function(){return t(!0)},className:"ui button fluid basic left-text"},r.a.createElement("i",{className:"edit icon"}),"What bugs you, ".concat(a,"?")))},ge=Object(i.b)((function(e){return{module:e.module,user:e.auth.user}}),{getFollowedModules:le,addPost:de})((function(e){var t=e.addPost,a=e.setShowing,c=e.setSelectedModule,s=e.getFollowedModules,l=e.module,o=l.followedModules,i=l.loading,u=e.user;Object(n.useEffect)((function(){s()}),[s]);var m=Object(n.useState)({title:"",text:"",author:"".concat(u._id),module:""}),d=Object(z.a)(m,2),p=d[0],E=d[1],f=p.title,b=p.text,h=(p.author,p.module),g=function(){a(!1)},N=function(e){return E(Object(v.a)(Object(v.a)({},p),{},Object(J.a)({},e.target.name,e.target.value)))},y=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Post"),r.a.createElement("button",{onClick:g,className:"ui button"},"Cancel")),O=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),t({post:p}),c(p.module),g()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Category"),r.a.createElement("select",{name:"module",value:h,onChange:function(e){return N(e)},className:"ui selection dropdown"},r.a.createElement("option",{value:""},"Select Post Category"),o.length>0&&o.map((function(e){return e.modules.map((function(t){return r.a.createElement("option",{key:t._id,value:"".concat(t._id)},"".concat(e.acronym," - ").concat(t.name))}))})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Summary"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"title",value:f,onChange:function(e){return N(e)},placeholder:"Write one sentence summary"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Content"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{name:"text",value:b,onChange:function(e){return N(e)},placeholder:"Write details for the question"}))));return!i&&o&&u&&r.a.createElement(me,{onDismiss:g,title:"Create a Post",content:O,actions:y})})),Ne=Object(i.b)((function(e){return{post:e.post,module:e.module}}),{getPostsFromModule:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("/modules/posts/".concat(e));case 3:n=t.sent,a({type:"GET_POSTS_FROM_MODULE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getModule:re})((function(e){var t=e.moduleId,a=e.getPostsFromModule,c=e.getModule,s=e.post,l=s.posts,o=s.loading,i=e.module.module;return Object(n.useEffect)((function(){a(t),c(t)}),[a,o,t,l.length]),!o&&l.length>0&&i&&l.map((function(e){return r.a.createElement(fe,{post:e,key:e._id})}))})),ye=Object(i.b)((function(e){return{module:e.module,user:e.auth.user}}),{getFollowedModules:le})((function(e){var t=e.user,a=e.getFollowedModules,c=e.module,s=c.followedModules,l=c.loading;Object(n.useEffect)((function(){a()}),[a,s.length]);var o=Object(n.useState)(!1),i=Object(z.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(null),p=Object(z.a)(d,2),E=p[0],f=p[1];return r.a.createElement(n.Fragment,null,t&&!l&&r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(Z,null),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"four wide column"},r.a.createElement(oe,{followedModules:s,setSelectedModule:f,selectedModule:E})),r.a.createElement("div",{className:"twelve wide column"},r.a.createElement(he,{setShowing:m,name:t.name}),s.length>0&&E&&r.a.createElement(Ne,{moduleId:E}),0===s.length&&r.a.createElement(be,null)))),u&&r.a.createElement(ge,{setShowing:m,setSelectedModule:f})))})),Oe=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement("div",{className:"ui segment",style:{border:"none",boxShadow:"none"}},r.a.createElement("h1",{className:"red-text"},"Module Requests"),r.a.createElement("div",{class:"ui three doubling cards"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"header"},"CS1231S"),r.a.createElement("div",{class:"meta"},"National University of Singapore"),r.a.createElement("div",{class:"description"},"3 users requested this module")),r.a.createElement("div",{class:"extra content"},r.a.createElement("div",{class:"ui two buttons"},r.a.createElement("div",{class:"ui basic green button"},"Approve"),r.a.createElement("div",{class:"ui basic red button"},"Decline")))),r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"header"},"CS1231S"),r.a.createElement("div",{class:"meta"},"National University of Singapore"),r.a.createElement("div",{class:"description"},"3 users requested this module")),r.a.createElement("div",{class:"extra content"},r.a.createElement("div",{class:"ui two buttons"},r.a.createElement("div",{class:"ui basic green button"},"Approve"),r.a.createElement("div",{class:"ui basic red button"},"Decline")))),r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"header"},"CS1231S"),r.a.createElement("div",{class:"meta"},"National University of Singapore"),r.a.createElement("div",{class:"description"},"3 users requested this module")),r.a.createElement("div",{class:"extra content"},r.a.createElement("div",{class:"ui two buttons"},r.a.createElement("div",{class:"ui basic green button"},"Approve"),r.a.createElement("div",{class:"ui basic red button"},"Decline")))),r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"header"},"CS1231S"),r.a.createElement("div",{class:"meta"},"National University of Singapore"),r.a.createElement("div",{class:"description"},"3 users requested this module")),r.a.createElement("div",{class:"extra content"},r.a.createElement("div",{class:"ui two buttons"},r.a.createElement("div",{class:"ui basic green button"},"Approve"),r.a.createElement("div",{class:"ui basic red button"},"Decline")))),r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"content"},r.a.createElement("div",{class:"header"},"CS1231S"),r.a.createElement("div",{class:"meta"},"National University of Singapore"),r.a.createElement("div",{class:"description"},"3 users requested this module")),r.a.createElement("div",{class:"extra content"},r.a.createElement("div",{class:"ui two buttons"},r.a.createElement("div",{class:"ui basic green button"},"Approve"),r.a.createElement("div",{class:"ui basic red button"},"Decline"))))))))},we=Object(i.b)((function(e){return{auth:e.auth}}),{addPost:de})((function(e){var t=e.addPost,a=e.setShowing,c=e.auth,s=c.user,l=c.loading,o=e.module,i=o.name,u=o._id,m=o.acronym,d=Object(n.useState)({title:"",text:"",author:"".concat(s._id),module:"".concat(u)}),p=Object(z.a)(d,2),E=p[0],f=p[1],b=E.title,h=E.text,g=(E.author,E.module),N=function(){a(!1)},y=function(e){return f(Object(v.a)(Object(v.a)({},E),{},Object(J.a)({},e.target.name,e.target.value)))},O=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Post"),r.a.createElement("button",{onClick:N,className:"ui button"},"Cancel")),w=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),t({post:E}),N()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Category"),r.a.createElement("div",{className:"ui input"},"".concat(m)," - ","".concat(i))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Summary"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"title",value:b,onChange:function(e){return y(e)},placeholder:"Write one sentence summary"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:""},"Content"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{name:"text",value:h,onChange:function(e){return y(e)},placeholder:"Write details for the question"}))));return!l&&s&&g&&r.a.createElement(me,{onDismiss:N,title:"Create a Post",content:w,actions:O})})),je=function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("/universities/".concat(e));case 3:n=t.sent,a({type:"GET_UNIVERSITY",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"UNIVERSITY_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},xe=Object(i.b)((function(e){return{module:e.module,university:e.university,auth:e.auth}}),{getUniversity:je,getModuleByName:function(e,t){return function(){var a=Object(S.a)(k.a.mark((function a(n){var r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.a.get("/universities/modules/".concat(e,"/").concat(t));case 3:r=a.sent,n({type:"GET_MODULE",payload:r.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0),n({type:"MODULE_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},unfollowModule:se,followModule:ce})((function(e){var t=e.match,a=e.getModuleByName,c=e.getUniversity,s=e.followModule,o=e.unfollowModule,i=e.module,u=i.module,m=i.loading,d=e.university,p=e.auth,E=d.loading,f=d.university,v=p.loading,b=p.user;Object(n.useEffect)((function(){c(t.params.uni),a(t.params.uni,t.params.module)}),[a,c]);var h=Object(n.useState)(null),g=Object(z.a)(h,2),N=g[0],y=g[1],O=Object(n.useState)(!1),w=Object(z.a)(O,2),j=w[0],x=w[1],k=Object(n.useState)(!0),S=Object(z.a)(k,2),C=S[0],_=S[1],R=Object(n.useState)(!1),D=Object(z.a)(R,2),T=D[0],P=D[1],M=!E&&!m&&f&&u&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui segment red-segment center-text"},r.a.createElement("h1",{className:"x-large"},"".concat(u.name)),r.a.createElement("div",{className:"lead"},"".concat(u.title))),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"four wide column remove-padding"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{className:"ui one statistics"},r.a.createElement("div",{className:"statistic"},r.a.createElement("div",{className:"value"},"".concat(u.followers.length)),r.a.createElement("div",{className:"label"},"Followers"))),r.a.createElement("div",{className:"ui divider"}),r.a.createElement("div",{className:"ui one statistics"},r.a.createElement("div",{className:"statistic"},r.a.createElement("div",{className:"value"},"".concat(u.posts.length)),r.a.createElement("div",{className:"label"},"Posts"))))),r.a.createElement("div",{className:"twelve wide column"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h3",null,"University:"),r.a.createElement(l.b,{to:"/".concat(t.params.uni)},r.a.createElement("p",null,"".concat(f.name))),r.a.createElement("h3",null,"Module description:"),r.a.createElement("p",null,"".concat(u.description)))))),U=!m&&u&&!v&&b&&r.a.createElement(n.Fragment,null,r.a.createElement(he,{setShowing:x,name:b.name}),r.a.createElement(Ne,{moduleId:u._id}));return m||!u||v||!b||E||!f||u.name!=t.params.module?r.a.createElement("div",{className:"ui centered active loader"}):r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(Z,null),p&&!m&&u&&null===N&&y(-1===u.followers.indexOf(p.user._id)?"plus":"minus"),!E&&!m&&f&&u&&r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"twelve wide centered column"},r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement("h1",{className:"red-text"},"Welcome to ","".concat(u.name),"!")),r.a.createElement("div",{className:"eight wide right aligned column"},r.a.createElement("button",{onClick:function(){"plus"===N?(y("minus"),s(u._id,u.name)):(y("plus"),o(u._id,u.name))},className:"ui button red-button"},r.a.createElement("i",{className:"ui icon ".concat(N)}),"plus"===N?"Follow":"Unfollow"," ","".concat(u.name)))),r.a.createElement("div",{className:"ui secondary pointing menu"},r.a.createElement("a",{onClick:function(){_(!0),P(!1)},className:"item ".concat(C?"active":"")},"Overview"),r.a.createElement("a",{onClick:function(){_(!1),P(!0)},className:"item ".concat(T?"active":"")},"Posts")),r.a.createElement("div",{className:""},C?M:U)))),j&&r.a.createElement(we,{setShowing:x,module:u}))})),ke=Object(i.b)((function(e){return{auth:e.auth}}),{deleteComment:function(e,t){return function(){var a=Object(S.a)(k.a.mark((function a(n){return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.a.delete("/posts/".concat(e,"/").concat(t));case 3:a.sent,n({type:"REMOVE_COMMENT",payload:t}),n(D("Comment Removed","success")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:E,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.postId,a=e.comment,c=a._id,s=a.text,o=a.authorName,i=a.avatar,u=a.author,m=a.date,d=e.auth,p=e.deleteComment,E=Object(n.useState)(!1),f=Object(z.a)(E,2),v=f[0],b=f[1],h=function(){b(!1)},g=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return p(t,c)},className:"ui button red-button"},"Yes"),r.a.createElement("button",{onClick:h,className:"ui button"},"Cancel"));return r.a.createElement("div",{className:"ui clearing segment"},r.a.createElement("div",{className:"comment"},r.a.createElement("a",{className:"avatar"},r.a.createElement("img",{src:i})),r.a.createElement("div",{className:"content"},d.loading||d.user._id!==u?r.a.createElement(l.b,{to:"/profile/".concat(u),className:"author"},o):r.a.createElement(l.b,{to:"/profile/me",className:"author"},o),r.a.createElement("div",{className:"metadata"},r.a.createElement("span",{className:"date"},"Posted on ",r.a.createElement(ue.a,{format:"YYYY/MM/DD"},m))),r.a.createElement("div",{className:"text"},s)),!d.loading&&u===d.user._id&&r.a.createElement("button",{onClick:function(){return b(!0)},className:"ui right floated icon mini button"},r.a.createElement("i",{className:"ui icon trash"}))),v&&r.a.createElement(Ee,{onDismiss:h,title:"Delete Comment",content:"Are you sure you want to delete this comment?",actions:g}))})),Se=Object(i.b)(null,{addComment:function(e,t){return function(){var a=Object(S.a)(k.a.mark((function a(n){var r,c;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,_.a.put("/posts/comment/".concat(e),t,r);case 4:c=a.sent,n({type:"ADD_COMMENT",payload:c.data}),n(D("Comment Added","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:E,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.postId,a=e.addComment,c=Object(n.useState)(""),s=Object(z.a)(c,2),l=s[0],o=s[1];return r.a.createElement("form",{className:"ui reply form",onSubmit:function(e){e.preventDefault(),a(t,{text:l}),o("")}},r.a.createElement("div",{className:"field"},r.a.createElement("textarea",{name:"text",placeholder:"Add comment...",value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement("button",{type:"submit",className:"ui red-button labeled submit icon button"},r.a.createElement("i",{className:"icon edit"})," Add Reply"))})),Ce=Object(i.b)((function(e){return{post:e.post,module:e.module,auth:e.auth}}),{getPost:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("/posts/".concat(e));case 3:n=t.sent,a({type:"GET_POST",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getModule:re,followModule:ce,unfollowModule:se})((function(e){var t=e.getPost,a=e.getModule,c=e.followModule,s=e.unfollowModule,l=e.post,o=l.post,i=l.loading,u=e.module,m=e.match,d=e.auth;Object(n.useEffect)((function(){t(m.params.id)}),[t]),Object(n.useEffect)((function(){o&&a(o.module)}),[a,o]);var p=Object(n.useState)(null),E=Object(z.a)(p,2),f=E[0],v=E[1];return r.a.createElement("div",{className:"container-body"},r.a.createElement(Z,null),d&&!u.loading&&u.module&&null===f&&v(-1===u.module.followers.indexOf(d.user._id)?"plus":"minus"),!i&&o&&d&&!u.loading&&u.module&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"twelve wide centered column"},r.a.createElement("button",{onClick:function(){"plus"===f?(v("minus"),c(o.module,o.moduleName)):(v("plus"),s(o.module,o.moduleName))},className:"ui button red-button"},r.a.createElement("i",{className:"ui icon ".concat(f)}),"plus"===f?"Follow":"Unfollow"," ","".concat(o.moduleName)),r.a.createElement(fe,{post:o}),r.a.createElement("div",{className:"ui comments"},r.a.createElement("h3",{className:"ui dividing header"},"Comments"),o.comments.map((function(e){return r.a.createElement(ke,{key:e._id,comment:e,postId:o._id})})),r.a.createElement(Se,{postId:o._id}))))))})),_e=function(e){return r.a.createElement("div",{onClick:e.onDismiss,className:"ui dimmer modals visible active",style:{position:"fixed"}},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active",style:{position:"flexible"}},r.a.createElement("div",{className:"header"},e.title),r.a.createElement("div",{className:"content"},e.content),r.a.createElement("div",{className:"actions"},e.actions)))},Re=a(344),De=function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n,r,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},t.next=4,_.a.post("/requests/add",e,n);case 4:r=t.sent,a({type:"ADD_REQUEST",payload:r.data}),a(D("Request successfully sent to Ladybug Admin","success")),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),(c=t.t0.response.data.errors)&&a(D(c.msg,"error")),a({type:"REQUEST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 15:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Te=Object(i.b)(null,{addRequest:De})((function(e){var t=e.setShowing,a=e.addRequest,c=Object(n.useState)(null),s=Object(z.a)(c,2),l=s[0],o=s[1],i=Object(n.useState)([]),u=Object(z.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)({university:"",module:""}),E=Object(z.a)(p,2),f=E[0],b=E[1],h=(f.university,f.module),g=function(){t(!1)};Object(n.useEffect)((function(){l&&_.a.get("http://universities.hipolabs.com/search?country=".concat(l)).then((function(e){return d(e.data)}))}),[l]);var N=ae.a.uniqBy(m,"name").map((function(e){return Object(v.a)(Object(v.a)({},e),{},{text:e.name,key:e.name,value:e.name})})),y=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),a(f),g()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Country"),r.a.createElement(Re.a,{placeholder:"Select Country",fluid:!0,search:!0,selection:!0,options:[{key:"au",value:"australia",flag:"au",text:"Australia"},{key:"ca",value:"canada",flag:"ca",text:"Canada"},{key:"cn",value:"china",flag:"cn",text:"China"},{key:"dk",value:"Denmark",flag:"dk",text:"Denmark"},{key:"fi",value:"Finland",flag:"fi",text:"Finland"},{key:"fr",value:"France",flag:"fr",text:"France"},{key:"de",value:"Germany",flag:"de",text:"Germany"},{key:"hk",value:"Hong+Kong",flag:"hk",text:"Hong Kong"},{key:"in",value:"India",flag:"in",text:"India"},{key:"id",value:"Indonesia",flag:"id",text:"Indonesia"},{key:"it",value:"Italy",flag:"it",text:"Italy"},{key:"jp",value:"Japan",flag:"jp",text:"Japan"},{key:"my",value:"Malaysia",flag:"my",text:"Malaysia"},{key:"nl",value:"Netherlands",flag:"nl",text:"Netherlands"},{key:"nz",value:"New+Zealand",flag:"nz",text:"New Zealand"},{key:"ph",value:"Philippines",flag:"ph",text:"Philippines"},{key:"sg",value:"Singapore",flag:"sg",text:"Singapore"},{key:"za",value:"South+Africa",flag:"za",text:"South Africa"},{key:"es",value:"Spain",flag:"es",text:"Spain"},{key:"ch",value:"Switzerland",flag:"ch",text:"Switzerland"},{key:"tw",value:"Taiwan",flag:"tw",text:"Taiwan"},{key:"th",value:"Thailand",flag:"th",text:"Thailand"},{key:"us",value:"United+States",flag:"us",text:"United States"},{key:"vn",value:"Vietnam",flag:"vn",text:"Vietnam"}],onChange:function(e,t){var a=t.value;o(a),d([]),b(Object(v.a)(Object(v.a)({},f),{},{university:""}))},required:!0})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"University"),r.a.createElement(Re.a,{placeholder:"Select University",fluid:!0,search:!0,selection:!0,options:N,onChange:function(e,t){var a=t.value;return b(Object(v.a)(Object(v.a)({},f),{},{university:a}))},required:!0})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Module Code"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"module",placeholder:"Module Code",value:h,onChange:function(e){return b(Object(v.a)(Object(v.a)({},f),{},{module:e.target.value}))},required:!0})))),O=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Request"),r.a.createElement("button",{onClick:g,className:"ui button"},"Cancel"));return r.a.createElement(_e,{onDismiss:g,title:"Request New Module",content:y,actions:O})})),Pe=Object(i.b)((function(e){return{university:e.university,module:e.module,auth:e.auth}}),{getUniversities:function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/categories");case 3:a=e.sent,t({type:"GET_UNIVERSITIES",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"UNIVERSITIES_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getModules:ne})((function(e){var t,a=e.getUniversities,c=e.getModules,s=e.university,o=e.module,i=e.auth,u=s.universities,m=s.loading,d=o.modules,p=o.loading;Object(n.useEffect)((function(){c()}),[]),Object(n.useEffect)((function(){a()}),[]),t=ae.a.mapValues(ae.a.keyBy(d,"_id"));var E=Object(n.useState)(!1),f=Object(z.a)(E,2),v=f[0],b=f[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(Z,null),r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"eight wide column"},r.a.createElement("h1",{className:"red-text"},"Explore modules")),r.a.createElement("div",{className:"eight wide right aligned column"},r.a.createElement("button",{onClick:function(){return b(!0)},className:"ui button red-button"},r.a.createElement("i",{className:"ui icon plus"}),"Request New Module"))),i.user&&!m&&!p&&d&&t&&u&&r.a.createElement("div",null,u.length>0&&u.map((function(e){return r.a.createElement("div",{key:e._id,className:"ui segment",style:{border:"none",boxShadow:"none"}},r.a.createElement("h3",null,r.a.createElement(l.b,{to:"/".concat(e.acronym),className:"red-link"},"".concat(e.name))),r.a.createElement("hr",null),r.a.createElement("div",{className:"ui segment",style:{border:"none",boxShadow:"none"}},r.a.createElement("div",{className:"ui three doubling cards"},e.modules.length>0&&e.modules.map((function(e){return r.a.createElement(ve,{module:t[e],key:e})})))))})))),v&&r.a.createElement(Te,{setShowing:b}))})),Me=Object(i.b)(null,{addRequest:De})((function(e){var t=e.uniName,a=e.setShowing,c=e.addRequest,s=Object(n.useState)({university:t,module:""}),l=Object(z.a)(s,2),o=l[0],i=l[1],u=(o.university,o.module),m=function(){a(!1)},d=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),c(o),m()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"University"),r.a.createElement("div",{className:"ui input"},"".concat(t))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Module Code"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"module",placeholder:"Module Code",value:u,onChange:function(e){return i(Object(v.a)(Object(v.a)({},o),{},{module:e.target.value}))},required:!0})))),p=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Request"),r.a.createElement("button",{onClick:m,className:"ui button"},"Cancel"));return r.a.createElement(_e,{onDismiss:m,title:"Request New Module",content:d,actions:p})})),Ue=Object(i.b)((function(e){return{module:e.module,university:e.university}}),{getModulesInUniversity:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("/universities/modules/".concat(e));case 3:n=t.sent,a({type:"GET_MODULES_IN_UNIVERSITY",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"MODULES_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getUniversity:je})((function(e){var t=e.getModulesInUniversity,a=e.getUniversity,c=e.match,s=e.module,l=s.modulesInUniversity,o=s.loading,i=e.university;Object(n.useEffect)((function(){t(c.params.uni),a(c.params.uni)}),[]);var u=Object(n.useState)(!1),m=Object(z.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)(!0),f=Object(z.a)(E,2),v=f[0],b=f[1],h=Object(n.useState)(!1),g=Object(z.a)(h,2),N=g[0],y=g[1],O=i.loading||!i.university||i.university.acronym!=c.params.uni?r.a.createElement("div",null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"picture-container"},r.a.createElement("img",{src:"".concat(i.university.logo),className:"university-picture"})),r.a.createElement("div",{className:"ui segment"},r.a.createElement("h3",null,"Overview:"),r.a.createElement("p",null,"".concat(i.university.overview)),r.a.createElement("h3",null,"Website:"),r.a.createElement("p",null,"".concat(i.university.website)))),w=o||!l?r.a.createElement("div",null):r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return p(!0)},className:"ui button red-button"},r.a.createElement("i",{className:"ui icon plus"}),"Request New Module"),r.a.createElement("div",{className:"ui segment",style:{border:"none",boxShadow:"none"}},r.a.createElement("div",{className:"ui three doubling cards"},l.length>0&&l.map((function(e){return r.a.createElement(ve,{module:e,key:e._id})})))));return i.loading||!i.university||o||!l||i.university.acronym!=c.params.uni?r.a.createElement("div",{className:"ui centered active loader"}):r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(Z,null),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"twelve wide centered column"},r.a.createElement("div",{className:"ui secondary pointing menu"},r.a.createElement("a",{onClick:function(){b(!0),y(!1)},className:"item ".concat(v?"active":"")},"Overview"),r.a.createElement("a",{onClick:function(){b(!1),y(!0)},className:"item ".concat(N?"active":"")},"Modules")),r.a.createElement("div",{className:""},v?O:w)))),d&&r.a.createElement(Me,{uniName:i.university.name,setShowing:p}))})),Ae=function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},t.next=4,_.a.post("/profiles",e,n);case 4:r=t.sent,a({type:"UPDATE_PROFILE",payload:r.data}),a(D("Profile Updated","success")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Le=function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.delete("/profiles/experience/delete/".concat(e));case 3:n=t.sent,a({type:"UPDATE_PROFILE",payload:n.data}),a(D("Experience Removed","success")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.delete("/profiles/education/delete/".concat(e));case 3:n=t.sent,a({type:"UPDATE_PROFILE",payload:n.data}),a(D("Education Removed","success")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Fe=Object(i.b)(null,{deleteExperience:Le})((function(e){var t=e.user,a=e.profile,c=e.experience,s=e.deleteExperience,l=Object(n.useState)(!1),o=Object(z.a)(l,2),i=o[0],u=o[1],m=function(){u(!1)},d=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return s(c._id)},className:"ui button red-button"},"Yes"),r.a.createElement("button",{onClick:m,className:"ui button"},"Cancel"));return r.a.createElement("div",null,r.a.createElement("div",{className:"ui segment",style:{border:"none",boxShadow:"none"}},r.a.createElement("h3",null,"".concat(c.company)),t._id===a.user&&r.a.createElement("button",{onClick:function(){return u(!0)},className:"ui right floated icon small button"},r.a.createElement("i",{className:"ui icon trash"})),r.a.createElement("p",null,r.a.createElement(ue.a,{format:"DD/MM/YYYY"},c.startDate)," -"," ",c.current?" Current":r.a.createElement(ue.a,{format:"DD/MM/YYYY"},c.endDate)),r.a.createElement("p",null,r.a.createElement("strong",null,"Position: "),"".concat(c.title)),c.description&&r.a.createElement("p",null,r.a.createElement("strong",null,"Description: "),"".concat(c.description))),i&&r.a.createElement(Ee,{onDismiss:m,title:"Delete Experience",content:"Are you sure you want to delete this item?",actions:d}))})),Ye=Object(i.b)(null,{deleteEducation:Ie})((function(e){var t=e.user,a=e.profile,c=e.education,s=e.deleteEducation,l=Object(n.useState)(!1),o=Object(z.a)(l,2),i=o[0],u=o[1],m=function(){u(!1)},d=r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return s(c._id)},className:"ui button red-button"},"Yes"),r.a.createElement("button",{onClick:m,className:"ui button"},"Cancel"));return r.a.createElement("div",null,r.a.createElement("div",{className:"ui segment",style:{border:"none",boxShadow:"none"}},r.a.createElement("h3",null,"".concat(c.school)),t._id===a.user&&r.a.createElement("button",{onClick:function(){return u(!0)},className:"ui right floated icon small button"},r.a.createElement("i",{className:"ui icon trash"})),r.a.createElement("p",null,r.a.createElement(ue.a,{format:"DD/MM/YYYY"},c.startDate)," -"," ",c.current?" Current":r.a.createElement(ue.a,{format:"DD/MM/YYYY"},c.endDate)),r.a.createElement("p",null,r.a.createElement("strong",null,"Degree: "),"".concat(c.degree)),r.a.createElement("p",null,r.a.createElement("strong",null,"Field of Study: "),"".concat(c.fieldOfStudy)),c.description&&r.a.createElement("p",null,r.a.createElement("strong",null,"Description: "),"".concat(c.description))),i&&r.a.createElement(Ee,{onDismiss:m,title:"Delete Education",content:"Are you sure you want to delete this item?",actions:d}))})),qe=Object(i.b)(null,{deleteEducation:Ie,deleteExperience:Le})((function(e){var t=e.user,a=e.profile,c=e.setShowingBio,s=e.setShowingSkills,l=e.setShowingEducation,o=e.setShowingExperience;return r.a.createElement("div",null,(a.bio||t._id===a.user)&&r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",null," Bio ",t._id===a.user&&r.a.createElement("button",{onClick:function(){return c(!0)},className:"invisible-button"},r.a.createElement("i",{className:"ui tiny icon edit"}))),a.bio?r.a.createElement("p",null,"".concat(a.bio)):r.a.createElement("div",null,"You have not set up a bio")),(a.skills&&a.skills.length>0||t._id===a.user)&&r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",null,"Skill Set ",t._id===a.user&&r.a.createElement("button",{onClick:function(){return s(!0)},className:"invisible-button"},r.a.createElement("i",{className:"ui tiny icon edit"}))),a.skills&&a.skills.length>0?r.a.createElement("div",{className:"icons"},a.skills.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("i",{className:"check icon"})," ","".concat(e))}))):r.a.createElement("div",null,"You have not added any skill set")),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"eight wide stretched column"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",{className:"red-text"},"Experience ",t._id===a.user&&r.a.createElement("button",{onClick:function(){return o(!0)},className:"invisible-button"},r.a.createElement("i",{className:"ui tiny icon red-text plus square outline"}))),a.experiences&&a.experiences.length>0?r.a.createElement(n.Fragment,null,a.experiences.map((function(e){return r.a.createElement(Fe,{key:e._id,experience:e,user:t,profile:a})}))):r.a.createElement("div",null,"No experience record"))),r.a.createElement("div",{className:"eight wide stretched column"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("h2",{className:"red-text"},"Education ",t._id===a.user&&r.a.createElement("button",{onClick:function(){return l(!0)},className:"invisible-button"},r.a.createElement("i",{className:"ui tiny icon red-text plus square outline"}))),a.educations&&a.educations.length>0?r.a.createElement(n.Fragment,null,a.educations.map((function(e){return r.a.createElement(Ye,{key:e._id,education:e,user:t,profile:a})}))):r.a.createElement("div",null,"No education record")))))})),Ge=function(e){var t=e.user,a=e.profile,n=e.setShowingHeader;return r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{className:"ui grid",style:{backgroundColor:"#b82601"}},r.a.createElement("div",{className:"sixteen wide column center-text white-text",style:{padding:"2rem"}},r.a.createElement("img",{className:"ui small circular centered image",style:{position:"relative"},src:a.avatar,alt:""}),r.a.createElement("div",{className:"splitscreen"},r.a.createElement("h4",{className:"hide-buttonA large"},"".concat(a.name," "),t._id===a.user&&r.a.createElement("button",{onClick:function(){return n(!0)},className:"invisible-button hide-buttonB"},r.a.createElement("i",{className:"ui tiny white icon edit outline",style:{color:"white"}})))),a.status&&"0"!=a.status&&r.a.createElement("div",{className:"lead"},"".concat(a.status)),r.a.createElement("div",{className:"icons"},a.social&&a.social.website&&r.a.createElement("a",{href:"".concat(a.social.website),target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big globe icon"})),a.social&&a.social.twitter&&r.a.createElement("a",{href:"".concat(a.social.twitter),target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big twitter icon"})),a.social&&a.social.facebook&&r.a.createElement("a",{href:"".concat(a.social.facebook),target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big facebook icon"})),a.social&&a.social.linkedin&&r.a.createElement("a",{href:"".concat(a.social.linkedin),target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big linkedin icon"})),a.social&&a.social.youtube&&r.a.createElement("a",{href:a.social.youtube,target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big youtube icon"})),a.social&&a.social.instagram&&r.a.createElement("a",{href:"".concat(a.social.instagram),target:"_blank",rel:"noopener noreferrer",className:"white-link"},r.a.createElement("i",{className:"big instagram icon"}))))))},Be=Object(i.b)(null,{updateProfile:Ae})((function(e){var t=e.setShowingBio,a=e.profile,c=e.updateProfile,s=Object(n.useState)({bio:a.bio?a.bio:"",skills:"".concat(a.skills.join(","))}),l=Object(z.a)(s,2),o=l[0],i=l[1],u=o.bio,m=function(){t(!1)},d=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Save"),r.a.createElement("button",{onClick:m,className:"ui button"},"Cancel")),p=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),c({profile:o}),m()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Bio"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{type:"text",name:"bio",value:u,onChange:function(e){return function(e){return i(Object(v.a)(Object(v.a)({},o),{},Object(J.a)({},e.target.name,e.target.value)))}(e)},placeholder:"Tell us a little about yourself"}))));return r.a.createElement(me,{onDismiss:m,title:"Edit your bio",content:p,actions:d})})),Ve=Object(i.b)(null,{updateProfile:Ae})((function(e){var t=e.setShowingSkills,a=e.profile,c=e.updateProfile,s=Object(n.useState)({skills:"".concat(a.skills.join(","))}),l=Object(z.a)(s,2),o=l[0],i=l[1],u=o.skills,m=function(){t(!1)},d=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Save"),r.a.createElement("button",{onClick:m,className:"ui button"},"Cancel")),p=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),c({profile:o}),m()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Skills"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",name:"skills",value:u,onChange:function(e){return function(e){return i(Object(v.a)(Object(v.a)({},o),{},Object(J.a)({},e.target.name,e.target.value)))}(e)},placeholder:"Tell us more about your skills (use comma to separate values, e.g. HTML,CSS,AdobeXD,PHP)"}))));return r.a.createElement(me,{onDismiss:m,title:"Edit your skill set",content:p,actions:d})})),We=Object(i.b)(null,{updateProfile:Ae})((function(e){var t=e.setShowingHeader,a=e.profile,c=e.updateProfile,s=Object(n.useState)({skills:"".concat(a.skills.join(",")),status:"".concat(a.status),social:a.social}),l=Object(z.a)(s,2),o=l[0],i=l[1],u=o.status,m=o.social,d=Object(n.useState)({website:m&&m.website?m.website:"",twitter:m&&m.twitter?m.twitter:"",facebook:m&&m.facebook?m.facebook:"",linkedin:m&&m.linkedin?m.linkedin:"",youtube:m&&m.youtube?m.youtube:"",instagram:m&&m.instagram?m.instagram:""}),p=Object(z.a)(d,2),E=p[0],f=p[1],b=E.website,h=E.twitter,g=E.facebook,N=E.linkedin,y=E.youtube,O=E.instagram,w=function(){t(!1)},j=function(e){return f(Object(v.a)(Object(v.a)({},E),{},Object(J.a)({},e.target.name,e.target.value)))},x=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Save"),r.a.createElement("button",{onClick:w,className:"ui button"},"Cancel")),k=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),o.social=E,c({profile:o}),w()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Status"),r.a.createElement("div",{className:"ui input"},r.a.createElement("select",{name:"status",value:u,onChange:function(e){return function(e){return i(Object(v.a)(Object(v.a)({},o),{},Object(J.a)({},e.target.name,e.target.value)))}(e)}},r.a.createElement("option",{value:"0"},"Select your status"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Teaching Assistant"},"Teaching Assistant"),r.a.createElement("option",{value:"Instructor"},"Instructor")))),r.a.createElement("h5",{className:"header"},"Social Network Links"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon globe"}),"Website"),r.a.createElement("input",{type:"text",placeholder:"Website URL",name:"website",value:b,onChange:function(e){return j(e)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon twitter"}),"Twitter"),r.a.createElement("input",{type:"text",placeholder:"Twitter URL",name:"twitter",value:h,onChange:function(e){return j(e)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon facebook"}),"Facebook"),r.a.createElement("input",{type:"text",placeholder:"Facebook URL",name:"facebook",value:g,onChange:function(e){return j(e)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon linkedin"}),"Linkedin"),r.a.createElement("input",{type:"text",placeholder:"Linkedin URL",name:"linkedin",value:N,onChange:function(e){return j(e)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon youtube"}),"Youtube"),r.a.createElement("input",{type:"text",placeholder:"Youtube URL",name:"youtube",value:y,onChange:function(e){return j(e)}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},r.a.createElement("i",{className:"ui icon instagram"}),"Instagram"),r.a.createElement("input",{type:"text",placeholder:"Instagram URL",name:"instagram",value:O,onChange:function(e){return j(e)}})));return r.a.createElement(me,{onDismiss:w,title:"Edit your personal info",content:k,actions:x})})),He=Object(i.b)(null,{addEducation:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},t.next=4,_.a.put("/profiles/education/add",e,n);case 4:r=t.sent,a({type:"UPDATE_PROFILE",payload:r.data}),a(D("Education Added","success")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response.data.errors,a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.setShowingEducation,a=e.addEducation,c=Object(n.useState)({school:"",degree:"",fieldOfStudy:"",startDate:"",endDate:"",current:!1,description:""}),s=Object(z.a)(c,2),l=s[0],o=s[1],i=l.school,u=l.degree,m=l.fieldOfStudy,d=l.startDate,p=l.endDate,E=l.current,f=l.description,b=Object(n.useState)(!1),h=Object(z.a)(b,2),g=h[0],N=h[1],y=function(){t(!1)},O=function(e){return o(Object(v.a)(Object(v.a)({},l),{},Object(J.a)({},e.target.name,e.target.value)))},w=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Add"),r.a.createElement("button",{onClick:y,className:"ui button"},"Cancel")),j=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),a({education:l}),y()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"School or Bootcamp"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",placeholder:"School or Bootcamp",name:"school",required:!0,value:i,onChange:function(e){return O(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Degree or Certificate"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",placeholder:"Degree or Certificate",name:"degree",required:!0,value:u,onChange:function(e){return O(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Field of Study"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",placeholder:"Field of Study",name:"fieldOfStudy",value:m,onChange:function(e){return O(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Start Date"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"date",name:"startDate",value:d,onChange:function(e){return O(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"checkbox",className:"ui checkbox",name:"current",checked:E,value:E,onChange:function(e){o(Object(v.a)(Object(v.a)({},l),{},{current:!E})),N(!g)}})," Current School"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"End Date"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"date",name:"endDate",value:p,onChange:function(e){return O(e)},disabled:g?"disabled":""}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Description"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{name:"description",cols:"30",rows:"5",placeholder:"Description",value:f,onChange:function(e){return O(e)}}))));return r.a.createElement(me,{onDismiss:y,title:"Add Education",content:j,actions:w})})),Je=Object(i.b)(null,{addExperience:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"}},t.next=4,_.a.put("/profiles/experience/add",e,n);case 4:r=t.sent,a({type:"UPDATE_PROFILE",payload:r.data}),a(D("Experience Added","success")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response.data.errors,a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.setShowingExperience,a=e.addExperience,c=Object(n.useState)({company:"",title:"",startDate:"",endDate:"",current:!1,description:""}),s=Object(z.a)(c,2),l=s[0],o=s[1],i=l.company,u=l.title,m=l.startDate,d=l.endDate,p=l.current,E=l.description,f=Object(n.useState)(!1),b=Object(z.a)(f,2),h=b[0],g=b[1],N=function(){t(!1)},y=function(e){return o(Object(v.a)(Object(v.a)({},l),{},Object(J.a)({},e.target.name,e.target.value)))},O=r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"submit",form:"myform",className:"ui button red-button"},"Add"),r.a.createElement("button",{onClick:N,className:"ui button"},"Cancel")),w=r.a.createElement("form",{id:"myform",className:"ui form",onSubmit:function(e){return function(e){e.preventDefault(),a({experience:l}),N()}(e)}},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Position or Job Title"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",placeholder:"Position or Job Title",name:"title",required:!0,value:u,onChange:function(e){return y(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Company"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"text",placeholder:"Company",name:"company",required:!0,value:i,onChange:function(e){return y(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Start Date"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"date",name:"startDate",value:m,onChange:function(e){return y(e)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"checkbox",className:"ui checkbox",name:"current",checked:p,value:p,onChange:function(e){o(Object(v.a)(Object(v.a)({},l),{},{current:!p})),g(!h)}})," Current Job"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"End Date"),r.a.createElement("div",{className:"ui input"},r.a.createElement("input",{type:"date",name:"endDate",value:d,onChange:function(e){return y(e)},disabled:h?"disabled":""}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"header"},"Description"),r.a.createElement("div",{className:"ui input"},r.a.createElement("textarea",{name:"description",cols:"30",rows:"5",placeholder:"Description",value:E,onChange:function(e){return y(e)}}))));return r.a.createElement(me,{onDismiss:N,title:"Add Experience",content:w,actions:O})})),ze=function(e){var t=e.postsByUser;return t.length>0&&t.map((function(e){return r.a.createElement(fe,{post:e,key:e._id})}))},Ze=a(174),Ke=a(175),Qe=a(178),Xe=a(177),$e=a(176),et=function(e){Object(Qe.a)(a,e);var t=Object(Xe.a)(a);function a(){return Object(Ze.a)(this,a),t.apply(this,arguments)}return Object(Ke.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.title,a=e.data,n=e.type,r=e.height,c=void 0===r?250:r,s=e.onSelect,l=e.countLabel,o=e.discreteDomains,i=e.colors,u=Object(M.a)(e,["title","data","type","height","onSelect","countLabel","discreteDomains","colors"]);this.graph=new $e.a(this.chart,Object(v.a)({title:t,data:a,type:n,height:c,countLabel:l,discreteDomains:o,colors:i,is_navigable:!!s},u)),s&&this.graph.parent.addEventListener("data-select",s)}},{key:"componentWillReceiveProps",value:function(e){this.graph.update(e.data)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.chart=t}})}}]),a}(n.Component),tt=(a(335),Object(i.b)((function(e){return{post:e.post,profile:e.profile,auth:e.auth}}),{getPostsByUser:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("/users/posts/".concat(e));case 3:n=t.sent,a({type:"GET_POSTS_BY_USER,",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getProfileById:function(e){return function(){var t=Object(S.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("/profiles/".concat(e));case 3:n=t.sent,a({type:"GET_PROFILE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},getPostsByCurrentUser:function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/users/posts");case 3:a=e.sent,t({type:"GET_POSTS_BY_USER,",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:E,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentProfile:function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/profiles/");case 3:a=e.sent,t({type:"GET_PROFILE",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"CLEAR_PROFILE"}),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.getProfileById,c=e.getCurrentProfile,s=e.getPostsByCurrentUser,l=e.getPostsByUser,o=e.profile,i=e.auth,u=e.post,m=u.postsByUser,d=u.loading;Object(n.useEffect)((function(){"me"===t.params.id?(s(),c()):(l(t.params.id),a(t.params.id))}),[a,c,t.params.id]);var p=Object(n.useState)("overview"),E=Object(z.a)(p,2),f=E[0],v=E[1],b=Object(n.useState)(!1),h=Object(z.a)(b,2),g=h[0],N=h[1],y=Object(n.useState)(!1),O=Object(z.a)(y,2),w=O[0],j=O[1],x=Object(n.useState)(!1),k=Object(z.a)(x,2),S=k[0],C=k[1],_=Object(n.useState)(!1),R=Object(z.a)(_,2),D=R[0],T=R[1],P=Object(n.useState)(!1),M=Object(z.a)(P,2),U=M[0],A=M[1],L=o.profile,I=o.loading,F=t.params.id,Y=Object(n.useState)({data:{dataPoints:{1451606400:2,1454284800:10},start:new Date("2016-01-01"),end:new Date("2017-01-01")},countLabel:"Level",discreteDomains:0,colors:["#ebedf0","#e8c4ba","#d88f7d","#c95b40","#b82601"]}),q=Object(z.a)(Y,2),G=q[0],B=(q[1],r.a.createElement(et,{title:"Contribution Graph",type:"heatmap",data:G.data,countLabel:G.countLabel,discreteDomains:G.discreteDomains,colors:G.colors,onSelect:function(e){return console.log(e.index)}}));return r.a.createElement(n.Fragment,null,!L||I||d||!m||!i.user||i.loading||"me"!=F&&F!=L.user||"me"==F&&i.user&&i.user._id!=L.user?r.a.createElement("div",{className:"ui active centered loader"},o.user):r.a.createElement("div",null,r.a.createElement("div",{className:"container-body"},r.a.createElement(Z,null),r.a.createElement("div",{className:"ui stackable grid"},r.a.createElement("div",{className:"twelve wide centered column"},r.a.createElement(Ge,{user:i.user,profile:L,setShowingHeader:C}),r.a.createElement("div",{className:"ui secondary pointing menu"},r.a.createElement("a",{onClick:function(){return v("overview")},className:"item ".concat("overview"===f?"active":"")},"Overview"),r.a.createElement("a",{onClick:function(){return v("statistics")},className:"item ".concat("statistics"===f?"active":"")},"Statistics"),r.a.createElement("a",{onClick:function(){return v("posts")},className:"item ".concat("posts"===f?"active":"")},"Posts")),r.a.createElement("div",{className:""},"overview"===f?r.a.createElement(qe,{user:i.user,profile:L,setShowingBio:N,setShowingSkills:j,setShowingEducation:T,setShowingExperience:A}):"statistics"===f?r.a.createElement("div",{className:"ui segment"},B):r.a.createElement(ze,{postsByUser:m}))))),g&&r.a.createElement(Be,{setShowingBio:N,profile:L}),w&&r.a.createElement(Ve,{setShowingSkills:j,profile:L}),S&&r.a.createElement(We,{setShowingHeader:C,profile:L}),D&&r.a.createElement(He,{setShowingEducation:T,profile:L}),U&&r.a.createElement(Je,{setShowingExperience:A,profile:L})))})));a(336);localStorage.token&&T(localStorage.token);var at=function(){return Object(n.useEffect)((function(){j.dispatch(P())}),[]),r.a.createElement(i.a,{store:j},r.a.createElement(l.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(F,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:G}),r.a.createElement(o.b,{exact:!0,path:"/login",component:$}),r.a.createElement(o.b,{exact:!0,path:"/register",component:ee}),r.a.createElement(o.b,{exact:!0,path:"/verification",component:W}),r.a.createElement(o.b,{exact:!0,path:"/verify/:token",component:H}),r.a.createElement(o.b,{exact:!0,path:"/forgot-password",component:K}),r.a.createElement(o.b,{exact:!0,path:"/password-updated",component:X}),r.a.createElement(o.b,{exact:!0,path:"/reset-password/:token",component:Q}),r.a.createElement(U,{exact:!0,path:"/home",component:ye}),r.a.createElement(U,{exact:!0,path:"/explore",component:Pe}),r.a.createElement(A,{exact:!0,path:"/requests",component:Oe}),r.a.createElement(U,{exact:!0,path:"/profile/:id",component:tt}),r.a.createElement(U,{exact:!0,path:"/:uni",component:Ue}),r.a.createElement(U,{exact:!0,path:"/:uni/:module",component:xe}),r.a.createElement(U,{exact:!0,path:"/:uni/:module/:id",component:Ce})))))};s.a.render(r.a.createElement(at,null),document.querySelector("#root"))}},[[189,1,2]]]);